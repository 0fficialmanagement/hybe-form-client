(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function t(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(o){if(o.ep)return;o.ep=!0;const n=t(o);fetch(o.href,n)}})();class ${constructor(){this.activeModals=new Map,this.activeTimers=new Map}initialize(i){const t=document.getElementById(i);if(!t)return console.error(`Modal ${i} not found`),null;try{if(typeof bootstrap>"u")return console.error("Bootstrap is not loaded"),null;const a=new bootstrap.Modal(t);return this.activeModals.set(i,a),t.addEventListener("hidden.bs.modal",()=>{this.cleanup(i)},{once:!0}),a}catch(a){return console.error(`Failed to initialize modal "${i}": ${a.message}`),null}}show(i,t={}){const a=this.activeModals.get(i)||this.initialize(i);a&&(t.countdown&&this.setupCountdown(i,t.countdown),a.show())}hide(i){const t=this.activeModals.get(i);t&&t.hide()}setupCountdown(i,{duration:t,elementId:a,onComplete:o}){const n=document.getElementById(a);if(!n){console.error(`Countdown element "${a}" not found`);return}let r=t;n.textContent=r;const h=setInterval(()=>{if(r--,n.textContent=r,r<=0&&(clearInterval(h),this.activeTimers.delete(i),this.hide(i),typeof o=="function"))try{o()}catch(f){console.error(`Error in onComplete callback: ${f.message}`)}},1e3);this.activeTimers.set(i,h)}cleanup(i){const t=this.activeTimers.get(i);t&&(clearInterval(t),this.activeTimers.delete(i)),this.activeModals.delete(i)}}const C=new $;document.addEventListener("DOMContentLoaded",()=>{typeof AOS<"u"&&AOS.init({duration:800,once:!0});const u=document.getElementById("subscription-form"),i=document.getElementById("form-message"),t=document.getElementById("referral-code"),a=document.getElementById("full-name"),o=document.getElementById("email"),n=document.getElementById("phone"),r=document.getElementById("dob"),h=document.getElementById("gender"),f=document.getElementById("branch"),g=document.getElementById("group"),c=document.getElementById("artist"),v=document.getElementById("payment-type");document.getElementById("installment-options"),document.getElementById("payment-methods");const S=document.getElementById("privacy-policy"),H=document.getElementById("subscription-agreement"),y=document.getElementById("submit-btn"),U=document.querySelector(".progress-bar"),A=document.getElementById("country-select");document.getElementById("country"),document.getElementById("currency"),document.getElementById("language");const T=document.getElementById("permit-id"),B=document.getElementById("submission-id");if(document.getElementById("digital-currency-home-btn"),!u){console.error("Subscription form not found");return}if(!y){console.error("Submit button not found");return}const P=y.querySelector(".btn-text"),J=y.querySelector(".spinner-border");C.show("onboardingModal");const D=[{name:"BigHit Music",groups:["BTS","TXT"]},{name:"PLEDIS Entertainment",groups:["SEVENTEEN","fromis_9"]},{name:"BELIFT LAB",groups:["ENHYPEN","ILLIT"]},{name:"KOZ Entertainment",groups:["ZICO"]},{name:"ADOR",groups:["NewJeans"]},{name:"HYBE Labels Japan",groups:["&TEAM"]}];f&&D.forEach(s=>{const e=document.createElement("option");e.value=s.name,e.textContent=s.name,f.appendChild(e)}),f&&g&&c&&f.addEventListener("change",()=>{const s=D.find(e=>e.name===f.value);g.innerHTML='<option value="" disabled selected>Select a Group</option>',c.innerHTML='<option value="" disabled selected>Select an Artist</option>',s&&s.groups.forEach(e=>{const E=document.createElement("option");E.value=e,E.textContent=e,g.appendChild(E)}),Y()}),g&&c&&g.addEventListener("change",()=>{c.innerHTML='<option value="" disabled selected>Select an Artist</option>';const s=g.value,e={BTS:["RM","Jin","SUGA","j-hope","Jimin","V","Jung Kook"],TXT:["SOOBIN","YEONJUN","BEOMGYU","TAEHYUN","HUENINGKAI"],SEVENTEEN:["S.COUPS","JEONGHAN","JOSHUA","JUN","HOSHI","WONWOO","WOOZI","THE 8","MINGYU","DK","SEUNGKWAN","VERNON","DINO"],fromis_9:["LEE SAEROM","SONG HAYOUNG","PARK JIWON","ROH JISUN","LEE SEOYEON","LEE CHAEYOUNG","LEE NAGYUNG","BAEK JIHEON"],ENHYPEN:["JUNGWON","HEESEUNG","JAY","JAKE","SUNGHOON","SUNOO","NI-KI"],ILLIT:["YUNAH","MINJU","MOKA","WONHEE","IROHA"],ZICO:["ZICO"],NewJeans:["MINJI","HANNI","DANIELLE","HAERIN","HYEIN"],"&TEAM":["K","FUMA","NICHOLAS","EJ","YUMA","JO","HARUA","TAKI","MAKI"]};e[s]&&e[s].forEach(E=>{const p=document.createElement("option");p.value=E,p.textContent=E,c.appendChild(p)}),Y()});function Y(){if(!U)return;const s=16;let e=0;function E(M,I=!0){const N=document.getElementById(M);if(!N)return 0;const w=N.value&&(!I||N.value.trim()!=="");return I&&N.setAttribute("aria-invalid",w?"false":"true"),w?1:0}e+=t!=null&&t.value?1:0,t&&t.setAttribute("aria-invalid",t.value?"false":"true"),e+=a!=null&&a.value?1:0,a&&a.setAttribute("aria-invalid",a.value?"false":"true"),e+=o!=null&&o.value?1:0,o&&o.setAttribute("aria-invalid",o.value?"false":"true"),e+=n!=null&&n.value?1:0,n&&n.setAttribute("aria-invalid",n.value?"false":"true"),e+=E("address-line1"),e+=E("city"),e+=E("state"),e+=E("postal-code"),e+=A!=null&&A.value?1:0,A&&A.setAttribute("aria-invalid",A.value?"false":"true"),e+=r!=null&&r.value?1:0,r&&r.setAttribute("aria-invalid",r.value?"false":"true"),e+=h!=null&&h.value?1:0,h&&h.setAttribute("aria-invalid",h.value?"false":"true"),e+=f!=null&&f.value?1:0,f&&f.setAttribute("aria-invalid",f.value?"false":"true"),e+=g!=null&&g.value?1:0,g&&g.setAttribute("aria-invalid",g.value?"false":"true"),e+=c!=null&&c.value?1:0,c&&c.setAttribute("aria-invalid",c.value?"false":"true"),e+=v!=null&&v.value?1:0,v&&v.setAttribute("aria-invalid",v.value?"false":"true");const p=document.querySelector('input[name="contact-method"]:checked');e+=p?1:0,document.querySelectorAll('input[name="contact-method"]').forEach(M=>{M.setAttribute("aria-invalid",p?"false":"true")});const b=e/s*100;U.style.width=`${b}%`,U.setAttribute("aria-valuenow",b),y&&(y.disabled=e<s,y.setAttribute("aria-disabled",y.disabled?"true":"false"))}function l(s,e){s&&s.setAttribute("aria-invalid",e?"true":"false")}function G(s){n&&(l(n,!s),s?(n.classList.remove("is-invalid"),n.classList.add("is-valid")):(n.classList.remove("is-valid"),n.classList.add("is-invalid")))}u.addEventListener("submit",async s=>{s.preventDefault(),y&&(y.disabled=!0,J&&J.classList.remove("d-none"),P&&P.classList.add("d-none")),i&&i.classList.add("d-none");try{if(!u.checkValidity()){u.classList.add("was-validated"),m("Please fill out all required fields correctly.","danger"),d();return}const e=document.querySelectorAll('input[name="contact-method"]');if(!Array.from(e).some(L=>L.checked)){m("Please select at least one preferred contact method.","danger"),d();return}if(!t||t.value!=="HYBE2025"){m("Invalid referral code. Use HYBE2025.","danger"),l(t,!0),d();return}else l(t,!1);if(!o||!x.test(o.value)){m("Invalid email address.","danger"),l(o,!0),d();return}else l(o,!1);let p=!1;if(O&&typeof O.isValidNumber=="function"?p=O.isValidNumber():n&&(p=/^\+?[0-9\s\-()]{7,20}$/.test(n.value.trim())),!p){m("Invalid phone number.","danger"),G(!1),l(n,!0),d();return}if(G(!0),l(n,!1),O&&typeof O.getNumber=="function"&&(n.value=O.getNumber()),!r||!r.value){m("Date of birth is required.","danger"),l(r,!0),d();return}else l(r,!1);const b=new Date(r.value),M=r.value;if(isNaN(b.getTime())||M!==b.toISOString().split("T")[0]){m("Invalid date of birth. Use YYYY-MM-DD format.","danger"),l(r,!0),d();return}else l(r,!1);const I=new Date;let N=I.getFullYear()-b.getFullYear();const w=I.getMonth()-b.getMonth();if((w<0||w===0&&I.getDate()<b.getDate())&&N--,N<13){l(r,!0),m("You must be at least 13 years old to subscribe.","danger"),d();return}else l(r,!1);if(!S||!S.checked){m("You must agree to the Privacy Policy.","danger"),l(S,!0),d();return}else l(S,!1);if(!H||!H.checked){m("You must agree to complete the subscription.","danger"),l(H,!0),d();return}else l(H,!1);T&&(T.value=F()),B&&(B.value=`SUB-${Date.now()}`),C.show("validationModal",{countdown:{duration:5,elementId:"countdown",onComplete:()=>{const L=u.querySelector('input[name="payment-method"]:checked');if(!L){m("Please select a payment method.","danger"),d();return}L.value==="Card Payment"?C.show("paymentModal",{countdown:{duration:5,elementId:"payment-countdown",onComplete:()=>{const K=v==null?void 0:v.value;K==="Full Payment"?window.location.href="https://buy.stripe.com/14AfZh1LD4eL9Kx0972ZO04":K==="Installment"?window.location.href="https://buy.stripe.com/3cIfZhgGxdPlaOBaNL2ZO06":(m("Invalid payment type selected.","danger"),d())}}}):L.value==="Digital Currency"?(C.show("digitalCurrencySuccessModal"),d()):(m("Selected payment method is not supported.","danger"),d()),console.log(`Subscription submitted: ${(B==null?void 0:B.value)||"N/A"}, Artist: ${(c==null?void 0:c.value)||"N/A"}, Payment: ${(v==null?void 0:v.value)||"N/A"}`)}}})}catch(e){console.error("Form submission error:",e),m(`Submission failed: ${e.message}`,"danger"),d()}}),Y()});function m(u,i="info"){const t=document.getElementById("form-alert");t?(t.textContent=u,t.className=`alert alert-${i}`,t.style.display="block",setTimeout(()=>{t.style.display="none"},4e3)):window.alert(u)}function d(){const u=document.getElementById("submit-btn");u&&(u.disabled=!1,u.setAttribute("aria-disabled","false"))}const x=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;window.iti=window.iti||null;const O=window.iti;function F(){return"HYBE-"+Math.random().toString(36).substr(2,9).toUpperCase()}
